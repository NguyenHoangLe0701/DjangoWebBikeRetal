{% load static %}
{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "API Documentation" %} - Xedap.vn{% endblock %}

{% block css %}
<link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
<style>
    .swagger-ui .topbar {
        display: none;
    }
    .swagger-ui .info {
        margin: 20px 0;
    }
    #api-docs-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }
</style>
{% endblock %}

{% block content %}
<div id="api-docs-container">
    <h1>{% trans "API Documentation" %}</h1>
    <p>{% trans "Tài liệu API cho hệ thống quản lý thuê xe đạp Xedap.vn" %}</p>
    
    <div id="swagger-ui"></div>
</div>
{% endblock %}

{% block js %}
<script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
<script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
<script>
    window.onload = function() {
        const ui = SwaggerUIBundle({
            url: "{% static 'api/openapi.json' %}",
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            validatorUrl: null,
            docExpansion: "list",
            filter: true,
            showExtensions: true,
            showCommonExtensions: true
        });
    };
</script>
{% endblock %}

