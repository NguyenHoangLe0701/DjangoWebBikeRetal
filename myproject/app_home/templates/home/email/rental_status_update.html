<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n thuÃª</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .email-wrapper {
            background-color: #ffffff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        .content {
            padding: 30px;
        }
        .status-badge {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin: 20px 0;
        }
        .status-approved {
            background-color: #d4edda;
            color: #155724;
        }
        .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
        }
        .status-completed {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        .status-cancelled {
            background-color: #fff3cd;
            color: #856404;
        }
        .details-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .details-list {
            list-style: none;
            padding: 0;
        }
        .details-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        .details-list li:last-child {
            border-bottom: none;
        }
        .footer {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="email-wrapper">
        <div class="header">
            <h1>ğŸ“¬ Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n thuÃª</h1>
        </div>
        
        <div class="content">
            <p>Xin chÃ o <strong>{{ rental.full_name }}</strong>,</p>
            
            <p>ÄÆ¡n thuÃª cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t tráº¡ng thÃ¡i:</p>
            
            <div class="status-badge status-{{ new_status }}">
                {% if new_status == 'approved' %}
                    âœ… ÄÃ£ Ä‘Æ°á»£c duyá»‡t
                {% elif new_status == 'rejected' %}
                    âŒ Bá»‹ tá»« chá»‘i
                {% elif new_status == 'completed' %}
                    âœ… ÄÃ£ hoÃ n thÃ nh
                {% elif new_status == 'cancelled' %}
                    âš ï¸ ÄÃ£ há»§y
                {% endif %}
            </div>
            
            <div class="details-section">
                <h3>ğŸ“‹ Chi tiáº¿t Ä‘Æ¡n thuÃª</h3>
                <ul class="details-list">
                    <li><strong>MÃ£ Ä‘Æ¡n:</strong> {{ rental.rental_code }}</li>
                    <li><strong>Loáº¡i xe:</strong> {{ bike_type_display }}</li>
                    <li><strong>Sá»‘ lÆ°á»£ng:</strong> {{ rental.quantity }} xe</li>
                    <li><strong>NgÃ y nháº­n:</strong> {{ rental.pickup_date|date:"d/m/Y" }}</li>
                    <li><strong>NgÃ y tráº£:</strong> {{ rental.return_date|date:"d/m/Y" }}</li>
                    {% if rental.total_price %}
                    <li><strong>Tá»•ng tiá»n:</strong> {{ rental.total_price|floatformat:0 }} VNÄ</li>
                    {% endif %}
                </ul>
            </div>
            
            {% if new_status == 'approved' %}
            <p><strong>BÆ°á»›c tiáº¿p theo:</strong> Vui lÃ²ng Ä‘áº¿n cá»­a hÃ ng vÃ o ngÃ y {{ rental.pickup_date|date:"d/m/Y" }} Ä‘á»ƒ nháº­n xe. Mang theo CMND/CCCD vÃ  mÃ£ Ä‘Æ¡n {{ rental.rental_code }}.</p>
            {% elif new_status == 'rejected' %}
            <p><strong>LÃ½ do:</strong> ÄÆ¡n thuÃª cá»§a báº¡n Ä‘Ã£ bá»‹ tá»« chá»‘i. Vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.</p>
            {% elif new_status == 'completed' %}
            <p><strong>Cáº£m Æ¡n:</strong> Cáº£m Æ¡n báº¡n Ä‘Ã£ sá»­ dá»¥ng dá»‹ch vá»¥ cá»§a chÃºng tÃ´i. ChÃºng tÃ´i ráº¥t mong Ä‘Æ°á»£c phá»¥c vá»¥ báº¡n láº§n sau!</p>
            {% elif new_status == 'cancelled' %}
            <p><strong>ThÃ´ng bÃ¡o:</strong> ÄÆ¡n thuÃª cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c há»§y. Náº¿u báº¡n cÃ³ tháº¯c máº¯c, vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i.</p>
            {% endif %}
        </div>
        
        <div class="footer">
            <p>Xedap.vn - Dá»‹ch vá»¥ thuÃª xe Ä‘áº¡p chuyÃªn nghiá»‡p</p>
            <p>Hotline: 1800 9473 | Email: support@xedap.vn</p>
        </div>
    </div>
</body>
</html>

